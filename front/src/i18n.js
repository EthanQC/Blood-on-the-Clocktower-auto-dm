export const messages = {
  zh: {
    "app.title": "血染钟楼",
    "header.meta": "房间 {{room}} · {{count}} 人 · 剧本：{{script}}",
    "script.trouble": "Trouble Brewing",
    "script.bmr": "Bad Moon Rising",
    "script.snw": "Sects & Violets",
    "script.custom": "自定义",
    "room.join": "加入钟楼",
    "room.live": "实时房间",
    "room.name": "昵称",
    "room.name.placeholder": "输入你的昵称",
    "room.code": "房间号",
    "room.code.placeholder": "HX7M",
    "room.enter": "进入房间",
    "room.host": "创建房间",
    "room.hint": "输入相同房间号即可进入同一桌。房主决定人数与剧本配置。",
    "lobby.title": "大厅状态",
    "lobby.storyteller": "说书人",
    "lobby.seat": "座位",
    "status.alive": "存活",
    "status.dead": "死亡",
    "status.ready": "已就绪",
    "status.waiting": "等待中",
    "seat.night": "夜晚阶段",
    "seat.whisper": "低语顺时针传递",
    "host.title": "房主控制",
    "host.count": "人数",
    "host.count.7": "7 人",
    "host.count.10": "10 人",
    "host.count.12": "12 人",
    "host.count.15": "15 人",
    "host.script": "剧本",
    "host.townsfolk": "村民",
    "host.outsider": "局外人",
    "host.minion": "爪牙",
    "host.demon": "恶魔",
    "host.start": "发牌并开始",
    "host.note": "房主可在发放前替换角色。私密角色信息将立即分发。",
    "role.title": "你的角色",
    "role.name.empath": "共情者",
    "role.desc.empath": "每晚得知你两侧存活邻座中有多少名恶人。",
    "role.tag.townsfolk": "村民",
    "role.tag.info": "情报",
    "role.notes": "私人记录",
    "role.notes.placeholder": "记录信息、假身份与怀疑对象。",
    "phase.title": "流程阶段",
    "phase.night": "夜晚",
    "phase.night.desc": "能力按顺序发动",
    "phase.day": "白天",
    "phase.day.desc": "自由讨论",
    "phase.vote": "投票",
    "phase.vote.desc": "提名与表决",
    "phase.exec": "处刑",
    "phase.exec.desc": "结算死亡",
    "lang.zh": "中文",
    "lang.en": "English"
  },
  en: {
    "app.title": "Blood on the Clocktower",
    "header.meta": "Room {{room}} · {{count}} Players · Script: {{script}}",
    "script.trouble": "Trouble Brewing",
    "script.bmr": "Bad Moon Rising",
    "script.snw": "Sects & Violets",
    "script.custom": "Custom",
    "room.join": "Join the Clocktower",
    "room.live": "Live Session",
    "room.name": "Display name",
    "room.name.placeholder": "Enter a name",
    "room.code": "Room code",
    "room.code.placeholder": "HX7M",
    "room.enter": "Enter Room",
    "room.host": "Host New Room",
    "room.hint": "Players join the same code to sit at one circle. Host controls the player count and script.",
    "lobby.title": "Lobby Status",
    "lobby.storyteller": "Storyteller",
    "lobby.seat": "Seat",
    "status.alive": "Alive",
    "status.dead": "Dead",
    "status.ready": "Ready",
    "status.waiting": "Waiting",
    "seat.night": "Night Phase",
    "seat.whisper": "Whispers travel clockwise",
    "host.title": "Host Control",
    "host.count": "Player Count",
    "host.count.7": "7 players",
    "host.count.10": "10 players",
    "host.count.12": "12 players",
    "host.count.15": "15 players",
    "host.script": "Script",
    "host.townsfolk": "Townsfolk",
    "host.outsider": "Outsiders",
    "host.minion": "Minions",
    "host.demon": "Demon",
    "host.start": "Deal Roles & Start",
    "host.note": "Host can override roles before sending. Private roles will be dealt instantly.",
    "role.title": "Your Role",
    "role.name.empath": "Empath",
    "role.desc.empath": "Each night, learn how many of your two living neighbors are evil.",
    "role.tag.townsfolk": "Townsfolk",
    "role.tag.info": "Information",
    "role.notes": "Private Notes",
    "role.notes.placeholder": "Track pings, bluffs, and suspicions.",
    "phase.title": "Phase Flow",
    "phase.night": "Night",
    "phase.night.desc": "Abilities in order",
    "phase.day": "Day",
    "phase.day.desc": "Open discussion",
    "phase.vote": "Vote",
    "phase.vote.desc": "Nominations",
    "phase.exec": "Execute",
    "phase.exec.desc": "Resolve death",
    "lang.zh": "中文",
    "lang.en": "English"
  }
};

export const createI18n = (localeRef) => {
  const t = (key) => messages[localeRef.value]?.[key] ?? key;
  const tf = (key, params = {}) => {
    let text = t(key);
    Object.entries(params).forEach(([paramKey, value]) => {
      text = text.replaceAll(`{{${paramKey}}}`, String(value));
    });
    return text;
  };
  return { t, tf };
};
